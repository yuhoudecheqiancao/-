// æ‰©å±•çš„é£Ÿç‰©æ•°æ®åº“
const foodDatabase = {
    breakfast: [
        // ä¼ ç»Ÿä¸­å¼æ—©é¤
        'åŒ…å­', 'è±†æµ†', 'æ²¹æ¡', 'é¸¡è›‹é¥¼', 'å°ç¬¼åŒ…', 'èƒ¡è¾£æ±¤', 'ç…é¥¼æœå­', 'ç‡•éº¦ç²¥',
        'ç™½ç²¥é…å’¸èœ', 'è’¸è›‹', 'é¦„é¥¨', 'è±†è…è„‘', 'çƒ§é¥¼', 'éº»å›¢', 'ç³¯ç±³å›¢', 'æ±¤åœ†',
        
        // è¥¿å¼æ—©é¤
        'ä¸‰æ˜æ²»', 'ç‰›å¥¶éº¦ç‰‡', 'åå¸', 'ç…è›‹', 'åŸ¹æ ¹', 'é…¸å¥¶', 'åå¤«é¥¼', 'ç­å°¼è¿ªå…‹è›‹',
        'æ³•å¼åå¸', 'è–„ç…é¥¼', 'ç‰›è§’åŒ…', 'è´æœ', 'æ ¼å…°è¯ºæ‹‰', 'å¥¶æ˜”', 'å¸åº·é¥¼',
        
        // å¥åº·æ—©é¤
        'æ°´æœæ²™æ‹‰', 'å…¨éº¦é¢åŒ…', 'åšæœé…¸å¥¶', 'è”¬èœæ±', 'è›‹ç™½è´¨å¥¶æ˜”', 'ç‡•éº¦æ¯',
        'å¥‡äºšç±½å¸ƒä¸', 'ç‰›æ²¹æœåå¸', 'è”¬èœè›‹å·', 'ä½è„‚é…¸å¥¶'
    ],
    
    lunch: [
        // ç»å…¸ä¸­é¤
        'å®«ä¿é¸¡ä¸', 'éº»å©†è±†è…', 'çº¢çƒ§è‚‰', 'è¥¿çº¢æŸ¿é¸¡è›‹', 'é’æ¤’è‚‰ä¸', 'ç³–é†‹é‡Œè„Š',
        'å›é”…è‚‰', 'é±¼é¦™è‚‰ä¸', 'èš‚èšä¸Šæ ‘', 'å››å·æ°´ç…®é±¼', 'æ¯›è¡€æ—º', 'å£æ°´é¸¡',
        'ç™½åˆ‡é¸¡', 'æ¸…è’¸é±¼', 'çº¢çƒ§èŒ„å­', 'å¹²ç…¸è±†è§’', 'éº»è¾£é¦™é”…', 'æ°´ç…®ç‰›è‚‰',
        
        // é¢é£Ÿç±»
        'å…°å·æ‹‰é¢', 'æ„å¤§åˆ©é¢', 'ç‚¸é…±é¢', 'çƒ­å¹²é¢', 'å‡‰é¢', 'ä¹Œå†¬é¢', 'æ‹‰é¢',
        'åˆ€å‰Šé¢', 'ç±³çº¿', 'èºè›³ç²‰', 'é‡åº†å°é¢', 'æ‹…æ‹…é¢', 'é˜³æ˜¥é¢', 'é¸¡æ±¤é¢',
        
        // ç±³é¥­ç±»
        'ç›–æµ‡é¥­', 'æ‰¬å·ç‚’é¥­', 'è›‹ç‚’é¥­', 'å’–å–±é¥­', 'çƒ§è…Šé¥­', 'çŸ³é”…æ‹Œé¥­',
        'æ—¥å¼ä¸¼é¥­', 'å°æ¹¾å¤è‚‰é¥­', 'æµ·å—é¸¡é¥­', 'æ–°åŠ å¡ç‚’é¥­',
        
        // å›½é™…ç¾é£Ÿ
        'æ±‰å ¡åŒ…', 'æŠ«è¨', 'å¯¿å¸', 'æ‹‰é¢', 'æ³°å¼ç‚’æ²³ç²‰', 'å°åº¦å’–å–±',
        'å¢¨è¥¿å“¥å·é¥¼', 'è¶Šå—æ²³ç²‰', 'éŸ©å¼çƒ¤è‚‰', 'æ—¥å¼å®šé£Ÿ'
    ],
    
    dinner: [
        // çƒ­é—¨æ™šé¤
        'ç«é”…', 'çƒ§çƒ¤', 'å°é¾™è™¾', 'è’¸è›‹ç¾¹', 'çº¢çƒ§æ’éª¨', 'ç³–é†‹é±¼', 'ç™½æ–©é¸¡',
        'è’œè“‰ç”Ÿèš', 'çƒ¤é¸­', 'ä¸œå¡è‚‰', 'æ¸…è’¸èƒèŸ¹', 'è¾£æ¤’ç‚’è‚‰', 'å¹²é”…èŠ±èœ',
        
        // æ±¤å“ç±»
        'é¸¡æ±¤', 'æ’éª¨æ±¤', 'é±¼æ±¤', 'è›¤èœŠæ±¤', 'å†¬ç“œæ±¤', 'ç´«èœè›‹èŠ±æ±¤',
        'é…¸è¾£æ±¤', 'ç‰ç±³æ±¤', 'æµ·å¸¦æ±¤', 'é“¶è€³è²å­æ±¤',
        
        // ç‚’èœç±»
        'å®«ä¿é¸¡ä¸', 'é±¼é¦™èŒ„å­', 'åœ°ä¸‰é²œ', 'æ¾é¼ æ¡‚é±¼', 'æ°´ç…®è‚‰ç‰‡', 'éº»è¾£è±†è…',
        'è’œè“‰è¥¿å…°èŠ±', 'å¹²ç…¸å››å­£è±†', 'ç³–é†‹æ’éª¨', 'çº¢çƒ§ç‹®å­å¤´',
        
        // æµ·é²œç±»
        'æ¸…è’¸é²ˆé±¼', 'è’œè“‰æ‰‡è´', 'æ¤’ç›è™¾', 'çº¢çƒ§å¸¦é±¼', 'é…±çˆ†é±¿é±¼', 'è›¤èœŠè’¸è›‹',
        'é¦™è¾£èŸ¹', 'ç™½ç¼è™¾', 'é²é±¼', 'æµ·èƒ†',
        
        // ç´ é£Ÿç±»
        'éº»å©†è±†è…', 'çº¢çƒ§èŒ„å­', 'è’œè“‰è èœ', 'å¹²ç…¸è±†è§’', 'ç³–é†‹è—•ç‰‡',
        'å‡‰æ‹Œé»„ç“œ', 'æ‹é»„ç“œ', 'è…Œèåœ', 'ç´ ç‚’è±†èŠ½', 'æ¸…ç‚’æ—¶è”¬'
    ],
    
    snacks: [
        // ç”œå“ç±»
        'å¥¶èŒ¶', 'è›‹ç³•', 'å†°æ·‡æ·‹', 'å¸ƒä¸', 'ææ‹‰ç±³è‹', 'é©¬å¡é¾™', 'æ³¡èŠ™', 'å¸åº·',
        'çº¸æ¯è›‹ç³•', 'æ…•æ–¯', 'èŠå£«è›‹ç³•', 'çº¢è±†æ²™', 'ç»¿è±†æ±¤', 'é“¶è€³æ±¤',
        
        // é›¶é£Ÿç±»
        'è–¯ç‰‡', 'çˆ†ç±³èŠ±', 'åšæœ', 'æœå¹²', 'è¯æ¢…', 'ç‰›è‚‰å¹²', 'é±¿é±¼ä¸', 'æµ·è‹”',
        'ç“œå­', 'èŠ±ç”Ÿ', 'å¼€å¿ƒæœ', 'è…°æœ', 'æä»', 'æ ¸æ¡ƒ',
        
        // æ°´æœç±»
        'è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‰è“', 'è‘¡è„', 'çŒ•çŒ´æ¡ƒ', 'èŠ’æœ', 'è è',
        'è¥¿ç“œ', 'å“ˆå¯†ç“œ', 'ç«é¾™æœ', 'æ¦´è²', 'æ¨±æ¡ƒ', 'è“è“', 'çŸ³æ¦´',
        
        // å¤œå®µç±»
        'çƒ§çƒ¤', 'éº»è¾£çƒ«', 'å…³ä¸œç…®', 'æ³¡é¢', 'ç²¥', 'æ±¤é¢', 'ç…é¥¼', 'é¸¡è›‹çŒé¥¼',
        'çƒ¤çº¢è–¯', 'ç³–ç‚’æ —å­', 'ç…®ç‰ç±³', 'çƒ­ç‹—', 'ç« é±¼å°ä¸¸å­', 'é“æ¿é±¿é±¼',
        
        // é¥®å“ç±»
        'å’–å•¡', 'èŒ¶', 'æœæ±', 'å¥¶æ˜”', 'æŸ æª¬æ°´', 'æ¤°æ±', 'è±†æµ†', 'é…¸æ¢…æ±¤',
        'èœ‚èœœæ°´', 'æ¸©å¼€æ°´', 'è‹æ‰“æ°´', 'æ°”æ³¡æ°´'
    ]
};

// é£Ÿç‰©è¡¨æƒ…ç¬¦å·æ˜ å°„
const foodEmojis = {
    // æ—©é¤
    'åŒ…å­': 'ğŸ¥Ÿ', 'è±†æµ†': 'ğŸ¥›', 'æ²¹æ¡': 'ğŸ¥–', 'é¸¡è›‹é¥¼': 'ğŸ¥', 'å°ç¬¼åŒ…': 'ğŸ¥Ÿ',
    'ç…é¥¼æœå­': 'ğŸ¥', 'ç‡•éº¦ç²¥': 'ğŸ¥£', 'ä¸‰æ˜æ²»': 'ğŸ¥ª', 'åå¸': 'ğŸ', 'é…¸å¥¶': 'ğŸ¥›',
    
    // åˆé¤/æ™šé¤
    'å®«ä¿é¸¡ä¸': 'ğŸ—', 'éº»å©†è±†è…': 'ğŸ²', 'çº¢çƒ§è‚‰': 'ğŸ¥©', 'è¥¿çº¢æŸ¿é¸¡è›‹': 'ğŸ…',
    'ç«é”…': 'ğŸ²', 'çƒ§çƒ¤': 'ğŸ–', 'é¢æ¡': 'ğŸœ', 'é¥ºå­': 'ğŸ¥Ÿ', 'ç‚’æ²³ç²‰': 'ğŸ',
    'æ±‰å ¡åŒ…': 'ğŸ”', 'æŠ«è¨': 'ğŸ•', 'å¯¿å¸': 'ğŸ£', 'æ‹‰é¢': 'ğŸœ', 'å’–å–±é¥­': 'ğŸ›',
    
    // é›¶é£Ÿ
    'å¥¶èŒ¶': 'ğŸ§‹', 'è›‹ç³•': 'ğŸ°', 'è–¯ç‰‡': 'ğŸŸ', 'çˆ†ç±³èŠ±': 'ğŸ¿', 'å†°æ·‡æ·‹': 'ğŸ¦',
    'åšæœ': 'ğŸ¥œ', 'æ°´æœ': 'ğŸ', 'é…¸å¥¶': 'ğŸ¥›', 'å’–å•¡': 'â˜•'
};

// è·å–é£Ÿç‰©è¡¨æƒ…ç¬¦å·
function getFoodEmoji(foodName) {
    return foodEmojis[foodName] || 'ğŸ½ï¸';
}

// è·å–å½“å‰æ—¶æ®µçš„é£Ÿç‰©æ•°ç»„
function getFoodsByTimeSlot(timeSlot) {
    return foodDatabase[timeSlot] || foodDatabase['snacks'];
}

// éšæœºè·å–é£Ÿç‰©
function getRandomFood(timeSlot) {
    const foods = getFoodsByTimeSlot(timeSlot);
    const randomIndex = Math.floor(Math.random() * foods.length);
    return foods[randomIndex];
}

// æ·»åŠ è‡ªå®šä¹‰é£Ÿç‰©
function addCustomFood(foodName, category) {
    if (!foodDatabase[category]) {
        foodDatabase[category] = [];
    }
    
    if (!foodDatabase[category].includes(foodName)) {
        foodDatabase[category].push(foodName);
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        const customFoods = JSON.parse(localStorage.getItem('customFoods') || '{}');
        if (!customFoods[category]) {
            customFoods[category] = [];
        }
        customFoods[category].push(foodName);
        localStorage.setItem('customFoods', JSON.stringify(customFoods));
        
        return true;
    }
    return false;
}

// ä»æœ¬åœ°å­˜å‚¨åŠ è½½è‡ªå®šä¹‰é£Ÿç‰©
function loadCustomFoods() {
    const customFoods = JSON.parse(localStorage.getItem('customFoods') || '{}');
    
    for (const category in customFoods) {
        if (foodDatabase[category]) {
            customFoods[category].forEach(food => {
                if (!foodDatabase[category].includes(food)) {
                    foodDatabase[category].push(food);
                }
            });
        }
    }
}

// åˆå§‹åŒ–æ—¶åŠ è½½è‡ªå®šä¹‰é£Ÿç‰©
document.addEventListener('DOMContentLoaded', loadCustomFoods); 